<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>rb-tree-dnd: Rhythmbox Development Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Rhythmbox Development Reference Manual">
<link rel="up" href="ch02.html" title="Lib">
<link rel="prev" href="RBStringValueMap.html" title="RBStringValueMap">
<link rel="next" href="rhythmbox-rb-util.html" title="rb-util">
<meta name="generator" content="GTK-Doc V1.24 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#rhythmbox-rb-tree-dnd.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#rhythmbox-rb-tree-dnd.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_implementations">  <span class="dim">|</span> 
                  <a href="#rhythmbox-rb-tree-dnd.implementations" class="shortcut">Known Implementations</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="RBStringValueMap.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="rhythmbox-rb-util.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="rhythmbox-rb-tree-dnd"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="rhythmbox-rb-tree-dnd.top_of_page"></a>rb-tree-dnd</span></h2>
<p>rb-tree-dnd — multi-row drag and drop support for GtkTreeViews</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-row-draggable" title="rb_tree_drag_source_row_draggable ()">rb_tree_drag_source_row_draggable</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-delete" title="rb_tree_drag_source_drag_data_delete ()">rb_tree_drag_source_drag_data_delete</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-get" title="rb_tree_drag_source_drag_data_get ()">rb_tree_drag_source_drag_data_get</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-drag-data-received" title="rb_tree_drag_dest_drag_data_received ()">rb_tree_drag_dest_drag_data_received</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-possible" title="rb_tree_drag_dest_row_drop_possible ()">rb_tree_drag_dest_row_drop_possible</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-position" title="rb_tree_drag_dest_row_drop_position ()">rb_tree_drag_dest_row_drop_position</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-dest-support" title="rb_tree_dnd_add_drag_dest_support ()">rb_tree_dnd_add_drag_dest_support</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-source-support" title="rb_tree_dnd_add_drag_source_support ()">rb_tree_dnd_add_drag_source_support</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<a name="RbTreeDragSource"></a><a name="RbTreeDragDest"></a><div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource-struct" title="RbTreeDragSource">RbTreeDragSource</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSourceIface" title="struct RbTreeDragSourceIface">RbTreeDragSourceIface</a></td>
</tr>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest-struct" title="RbTreeDragDest">RbTreeDragDest</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDestIface" title="struct RbTreeDragDestIface">RbTreeDragDestIface</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag">RbTreeDestFlag</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="https://developer.gnome.org/gobject/unstable/GTypeModule.html">GInterface</a>
    <span class="lineart">├──</span> RbTreeDragDest
    <span class="lineart">╰──</span> RbTreeDragSource
</pre>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.implementations"></a><h2>Known Implementations</h2>
<p>
RbTreeDragSource is implemented by
 <a class="link" href="RBDisplayPageModel.html" title="RBDisplayPageModel">RBDisplayPageModel</a>,  <a class="link" href="RhythmDBPropertyModel.html" title="RhythmDBPropertyModel">RhythmDBPropertyModel</a> and  <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a>.</p>
<p>
RbTreeDragDest is implemented by
 <a class="link" href="RBDisplayPageModel.html" title="RBDisplayPageModel">RBDisplayPageModel</a> and  <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a>.</p>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.description"></a><h2>Description</h2>
<p>Provides support for drag and drop operations to and from GtkTreeView
widgets that can include multiple rows.  The model backing the tree view
widgets must implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> and <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> interfaces.</p>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="rb-tree-drag-source-row-draggable"></a><h3>rb_tree_drag_source_row_draggable ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_row_draggable (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                   <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> whether a particular row can be used as
the source of a DND operation. If the source doesn't implement
this interface, the row is assumed draggable.</p>
<div class="refsect3">
<a name="id-1.3.7.10.2.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row on which user is initiating a drag</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.2.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row can be dragged</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-drag-source-drag-data-delete"></a><h3>rb_tree_drag_source_drag_data_delete ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_drag_data_delete (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                      <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to delete the row at <em class="parameter"><code>path</code></em>
, because
it was moved somewhere else via drag-and-drop. Returns <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>
if the deletion fails because <em class="parameter"><code>path</code></em>
 no longer exists, or for
some model-specific reason. Should robustly handle a <em class="parameter"><code>path</code></em>
 no
longer found in the model!</p>
<div class="refsect3">
<a name="id-1.3.7.10.3.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row that was being dragged</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.3.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row was successfully deleted</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-drag-source-drag-data-get"></a><h3>rb_tree_drag_source_drag_data_get ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_drag_data_get (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                   <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>,
                                   <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to fill in <em class="parameter"><code>selection_data</code></em>
 with a
representation of the row at <em class="parameter"><code>path</code></em>
. <em class="parameter"><code>selection_data-&gt;target</code></em>
 gives
the required type of the data.  Should robustly handle a <em class="parameter"><code>path</code></em>
 no
longer found in the model!</p>
<div class="refsect3">
<a name="id-1.3.7.10.4.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row that was dragged</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> to fill with data from the dragged row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.4.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if data of the required type was provided</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-drag-data-received"></a><h3>rb_tree_drag_dest_drag_data_received ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_drag_data_received (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> *dest</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> pos</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> to accept some drag and drop data.</p>
<div class="refsect3">
<a name="id-1.3.7.10.5.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest</p></td>
<td class="parameter_description"><p>the <a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> on which the data was dropped</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> containing the drag data</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.5.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data was accepted, <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-row-drop-possible"></a><h3>rb_tree_drag_dest_row_drop_possible ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_row_drop_possible (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> *dest_path</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> pos</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> whether data can be dropped on a particular
row.  This should probably check based on the format and the row.</p>
<div class="refsect3">
<a name="id-1.3.7.10.6.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest_path</p></td>
<td class="parameter_description"><p>the <a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> on which the data may be dropped</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> containing the drag data</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.6.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data can be dropped there</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-row-drop-position"></a><h3>rb_tree_drag_dest_row_drop_position ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_row_drop_position (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> *dest_path</code></em>,
                                     <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *targets</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> *pos</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> which drop position to use relative to the specified row.
The drag destination should decide which drop position to use based on the 
target row and the list of drag targets.</p>
<div class="refsect3">
<a name="id-1.3.7.10.7.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest_path</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> describing a possible drop row</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>a <a href="https://developer.gnome.org/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> containing possible drop target types</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>returns the <a href="http://developer.gnome.org/gtk2/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> to use relative to the row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.7.10.7.6"></a><h4>Returns</h4>
<p> <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if a drop position has been set, <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a drop should not be
allowed in the specified row</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-dnd-add-drag-dest-support"></a><h3>rb_tree_dnd_add_drag_dest_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rb_tree_dnd_add_drag_dest_support (<em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> *tree_view</code></em>,
                                   <em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag"><span class="type">RbTreeDestFlag</span></a> flags</code></em>,
                                   <em class="parameter"><code>const <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> *targets</code></em>,
                                   <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_targets</code></em>,
                                   <em class="parameter"><code><a href="http://developer.gnome.org/gdk2/gdk3-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a> actions</code></em>);</pre>
<p>Adds event handlers to perform multi-row drag and drop operations to the specified
<a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a>.  The model backing the tree view should implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
interface.  This should be called immediately after the tree view is created.</p>
<div class="refsect3">
<a name="id-1.3.7.10.8.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>tree_view</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> that wants to be a drag destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p><a href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag"><span class="type">RbTreeDestFlags</span></a> for this drag destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>an array of <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing the allowed drag targets</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>n_targets</p></td>
<td class="parameter_description"><p>the number of elements in <em class="parameter"><code>targets</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>actions</p></td>
<td class="parameter_description"><p>the allowable drag actions for this destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-tree-dnd-add-drag-source-support"></a><h3>rb_tree_dnd_add_drag_source_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rb_tree_dnd_add_drag_source_support (<em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> *tree_view</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gdk2/gdk3-Windows.html#GdkModifierType"><span class="type">GdkModifierType</span></a> start_button_mask</code></em>,
                                     <em class="parameter"><code>const <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> *targets</code></em>,
                                     <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_targets</code></em>,
                                     <em class="parameter"><code><a href="http://developer.gnome.org/gdk2/gdk3-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a> actions</code></em>);</pre>
<p>Adds event handlers to perform multi-row drag and drop operations from the
specified <a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> widget.  The model backing the <a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> must
implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> interface.  This should be called immediately
after the tree view is created.</p>
<div class="refsect3">
<a name="id-1.3.7.10.9.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>tree_view</p></td>
<td class="parameter_description"><p>a <a href="http://developer.gnome.org/gtk2/GtkTreeView.html"><span class="type">GtkTreeView</span></a> that wants to be a drag source</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>start_button_mask</p></td>
<td class="parameter_description"><p>a mask describing modifier keys to handle when dragging</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>an array of <a href="http://developer.gnome.org/gtk2/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing drag data types</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>n_targets</p></td>
<td class="parameter_description"><p>the number of elements in <em class="parameter"><code>targets</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>actions</p></td>
<td class="parameter_description"><p>a mask describing drag actions that are allowed from this source</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="RbTreeDragSource-struct"></a><h3>RbTreeDragSource</h3>
<pre class="programlisting">typedef struct _RbTreeDragSource RbTreeDragSource;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="RbTreeDragSourceIface"></a><h3>struct RbTreeDragSourceIface</h3>
<pre class="programlisting">struct RbTreeDragSourceIface {
	GTypeInterface g_iface;

	/* VTable - not signals */
	gboolean     (* rb_row_draggable)        (RbTreeDragSource   *drag_source,
	                              GList              *path_list);

	gboolean     (* rb_drag_data_get)        (RbTreeDragSource   *drag_source,
                                         GList              *path_list,
                                         GtkSelectionData   *selection_data);

	gboolean     (* rb_drag_data_delete)     (RbTreeDragSource *drag_source,
                                         GList            *path_list);
};
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="RbTreeDragDest-struct"></a><h3>RbTreeDragDest</h3>
<pre class="programlisting">typedef struct _RbTreeDragDest RbTreeDragDest;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="RbTreeDragDestIface"></a><h3>struct RbTreeDragDestIface</h3>
<pre class="programlisting">struct RbTreeDragDestIface {
	GTypeInterface g_iface;

	/* VTable - not signals */

	gboolean (* rb_drag_data_received) (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_possible)  (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest_path,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_position) (RbTreeDragDest   *drag_dest,
					GtkTreePath       *dest_path,
					GList *targets,
					GtkTreeViewDropPosition *pos);

	/* optional */
	GdkAtom  (* rb_get_drag_target)    (RbTreeDragDest   *drag_dest,
					 GtkWidget        *widget,
					 GdkDragContext   *context,
					 GtkTreePath      *dest_path,
					 GtkTargetList    *target_list);
};
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="RbTreeDestFlag"></a><h3>enum RbTreeDestFlag</h3>
<p>Flags controlling drag destination behaviour.</p>
<div class="refsect3">
<a name="id-1.3.7.11.6.4"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="300px" class="enum_members_name">
<col class="enum_members_description">
<col width="200px" class="enum_members_annotations">
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-EMPTY-VIEW-DROP:CAPS"></a>RB_TREE_DEST_EMPTY_VIEW_DROP</p></td>
<td class="enum_member_description">
<p>If set, drops into empty spaces in the view are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-CAN-DROP-INTO:CAPS"></a>RB_TREE_DEST_CAN_DROP_INTO</p></td>
<td class="enum_member_description">
<p>If set, drops into existing rows are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-CAN-DROP-BETWEEN:CAPS"></a>RB_TREE_DEST_CAN_DROP_BETWEEN</p></td>
<td class="enum_member_description">
<p>If set, drops between existing rows are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-SELECT-ON-DRAG-TIMEOUT:CAPS"></a>RB_TREE_DEST_SELECT_ON_DRAG_TIMEOUT</p></td>
<td class="enum_member_description">
<p>If set, update the drag selection using a timeout</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.24</div>
</body>
</html>