<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RBSongInfo: Rhythmbox Development Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Rhythmbox Development Reference Manual">
<link rel="up" href="ch07.html" title="Widgets">
<link rel="prev" href="RBSearchEntry.html" title="RBSearchEntry">
<link rel="next" href="RBURIDialog.html" title="RBURIDialog">
<meta name="generator" content="GTK-Doc V1.24 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#RBSongInfo.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#RBSongInfo.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_interfaces">  <span class="dim">|</span> 
                  <a href="#RBSongInfo.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a href="#RBSongInfo.properties" class="shortcut">Properties</a></span><span id="nav_signals">  <span class="dim">|</span> 
                  <a href="#RBSongInfo.signals" class="shortcut">Signals</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch07.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="RBSearchEntry.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="RBURIDialog.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="RBSongInfo"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="RBSongInfo.top_of_page"></a>RBSongInfo</span></h2>
<p>RBSongInfo — song properties dialog</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="RBSongInfo.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="http://developer.gnome.org/gtk2/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *
</td>
<td class="function_name">
<a class="link" href="RBSongInfo.html#rb-song-info-new" title="rb_song_info_new ()">rb_song_info_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
</td>
<td class="function_name">
<a class="link" href="RBSongInfo.html#rb-song-info-append-page" title="rb_song_info_append_page ()">rb_song_info_append_page</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RBSongInfo.properties"></a><h2>Properties</h2>
<div class="informaltable"><table border="0">
<colgroup>
<col width="150px" class="properties_type">
<col width="300px" class="properties_name">
<col width="200px" class="properties_flags">
</colgroup>
<tbody>
<tr>
<td class="property_type">
<span class="type">RhythmDBEntry</span> *</td>
<td class="property_name"><a class="link" href="RBSongInfo.html#RBSongInfo--current-entry" title="The “current-entry” property">current-entry</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type">
<a class="link" href="RBEntryView.html" title="RBEntryView"><span class="type">RBEntryView</span></a> *</td>
<td class="property_name"><a class="link" href="RBSongInfo.html#RBSongInfo--entry-view" title="The “entry-view” property">entry-view</a></td>
<td class="property_flags">Read / Write / Construct Only</td>
</tr>
<tr>
<td class="property_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Arrays.html#GArray"><span class="type">GArray</span></a> *</td>
<td class="property_name"><a class="link" href="RBSongInfo.html#RBSongInfo--selected-entries" title="The “selected-entries” property">selected-entries</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type">
<a class="link" href="RBSource.html" title="RBSource"><span class="type">RBSource</span></a> *</td>
<td class="property_name"><a class="link" href="RBSongInfo.html#RBSongInfo--source" title="The “source” property">source</a></td>
<td class="property_flags">Read / Write / Construct Only</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RBSongInfo.signals"></a><h2>Signals</h2>
<div class="informaltable"><table border="0">
<colgroup>
<col width="150px" class="signals_return">
<col width="300px" class="signals_name">
<col width="200px" class="signals_flags">
</colgroup>
<tbody>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RBSongInfo.html#RBSongInfo-post-metadata-change" title="The “post-metadata-change” signal">post-metadata-change</a></td>
<td class="signal_flags"><a href="https://developer.gnome.org/gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RBSongInfo.html#RBSongInfo-pre-metadata-change" title="The “pre-metadata-change” signal">pre-metadata-change</a></td>
<td class="signal_flags"><a href="https://developer.gnome.org/gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RBSongInfo.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="RBSongInfo.html#RBSongInfo-struct" title="struct RBSongInfo">RBSongInfo</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="RBSongInfo.html#RBSongInfoClass" title="struct RBSongInfoClass">RBSongInfoClass</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RBSongInfo.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="https://developer.gnome.org/gobject/unstable/gobject-The-Base-Object-Type.html#GObject">GObject</a>
    <span class="lineart">╰──</span> <a href="https://developer.gnome.org/gobject/unstable/gobject-The-Base-Object-Type.html#GInitiallyUnowned">GInitiallyUnowned</a>
        <span class="lineart">╰──</span> <a href="http://developer.gnome.org/gtk2/GtkWidget.html">GtkWidget</a>
            <span class="lineart">╰──</span> <a href="http://developer.gnome.org/gtk2/GtkContainer.html">GtkContainer</a>
                <span class="lineart">╰──</span> <a href="http://developer.gnome.org/gtk2/GtkBin.html">GtkBin</a>
                    <span class="lineart">╰──</span> <a href="http://developer.gnome.org/gtk2/GtkWindow.html">GtkWindow</a>
                        <span class="lineart">╰──</span> <a href="http://developer.gnome.org/gtk2/GtkDialog.html">GtkDialog</a>
                            <span class="lineart">╰──</span> RBSongInfo
</pre>
</div>
<div class="refsect1">
<a name="RBSongInfo.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
RBSongInfo implements
 AtkImplementorIface and  <a href="http://developer.gnome.org/gtk2/GtkBuildable.html">GtkBuildable</a>.</p>
</div>
<div class="refsect1">
<a name="RBSongInfo.description"></a><h2>Description</h2>
<p>Displays song properties and, if we know how to edit tags in the file,
allows the user to edit them.</p>
<p>This class has two modes.  It can display and edit properties of a single
entry, in which case it uses a <a href="http://developer.gnome.org/gtk2/GtkNotebook.html"><span class="type">GtkNotebook</span></a> to split the properties across
'basic' and 'details' pages, and it can display and edit properties of
multiple entries at a time, in which case a smaller set of properties is
displayed in a single set.</p>
<p>In single-entry mode, it is possible to add extra pages to the <a href="http://developer.gnome.org/gtk2/GtkNotebook.html"><span class="type">GtkNotebook</span></a>
widget in the dialog.  The 'create-song-info' signal is emitted by the <a class="link" href="RBShell.html" title="RBShell"><span class="type">RBShell</span></a>
object, allowing signal handlers to add pages by calling <a class="link" href="RBSongInfo.html#rb-song-info-append-page" title="rb_song_info_append_page ()"><span class="type">rb_song_info_append_page</span></a>.
The lyrics plugin is currently the only place where this ability is used.
In this mode, the dialog features 'back' and 'forward' buttons that move to the
next or previous entries from the currently displayed track list.</p>
<p>In multiple-entry mode, only the set of properties that can usefully be set
across multiple entries at once are displayed.</p>
<p>When the dialog is closed, any changes made will be applied to the entry (or entries)
that were displayed in the dialog.  For songs in the library, this will result
in the song tags being updated on disk.  For other entry types, this only updates
the data store in the database.</p>
</div>
<div class="refsect1">
<a name="RBSongInfo.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="rb-song-info-new"></a><h3>rb_song_info_new ()</h3>
<pre class="programlisting"><a href="http://developer.gnome.org/gtk2/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *
rb_song_info_new (<em class="parameter"><code><a class="link" href="RBSource.html" title="RBSource"><span class="type">RBSource</span></a> *source</code></em>,
                  <em class="parameter"><code><a class="link" href="RBEntryView.html" title="RBEntryView"><span class="type">RBEntryView</span></a> *entry_view</code></em>);</pre>
<p>Creates a new <a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a> for the selected entry or entries in
the specified entry view.</p>
<div class="refsect3">
<a name="id-1.8.13.10.2.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p><a class="link" href="RBSource.html" title="RBSource"><span class="type">RBSource</span></a> creating the song properties window</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>entry_view</p></td>
<td class="parameter_description"><p>the <a class="link" href="RBEntryView.html" title="RBEntryView"><span class="type">RBEntryView</span></a> to get selection data from</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.8.13.10.2.6"></a><h4>Returns</h4>
<p> the new song properties window</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="rb-song-info-append-page"></a><h3>rb_song_info_append_page ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
rb_song_info_append_page (<em class="parameter"><code><a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a> *info</code></em>,
                          <em class="parameter"><code>const <span class="type">char</span> *title</code></em>,
                          <em class="parameter"><code><a href="http://developer.gnome.org/gtk2/GtkWidget.html"><span class="type">GtkWidget</span></a> *page</code></em>);</pre>
<p>Adds a new page to the song properties window.  Should be called
in a handler connected to the <a class="link" href="RBShell.html" title="RBShell"><span class="type">RBShell</span></a> 'create-song-info' signal.</p>
<div class="refsect3">
<a name="id-1.8.13.10.3.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>info</p></td>
<td class="parameter_description"><p>a <a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>title</p></td>
<td class="parameter_description"><p>the title of the new page</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>page</p></td>
<td class="parameter_description"><p>the page <a href="http://developer.gnome.org/gtk2/GtkWidget.html"><span class="type">GtkWidget</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.8.13.10.3.6"></a><h4>Returns</h4>
<p> the page number</p>
</div>
</div>
</div>
<div class="refsect1">
<a name="RBSongInfo.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="RBSongInfo-struct"></a><h3>struct RBSongInfo</h3>
<pre class="programlisting">struct RBSongInfo;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="RBSongInfoClass"></a><h3>struct RBSongInfoClass</h3>
<pre class="programlisting">struct RBSongInfoClass {
	GtkDialogClass parent_class;

	void (*pre_metadata_change) (RBSongInfo *info, RhythmDBEntry *entry);
	void (*post_metadata_change) (RBSongInfo *info, RhythmDBEntry *entry);
};
</pre>
<p>
</p>
</div>
</div>
<div class="refsect1">
<a name="RBSongInfo.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="RBSongInfo--current-entry"></a><h3>The <code class="literal">“current-entry”</code> property</h3>
<pre class="programlisting">  “current-entry”            <span class="type">RhythmDBEntry</span> *</pre>
<p>The <span class="type">RhythmDBEntry</span> that is currently being displayed.  Will be NULL for
multiple-entry song properties windows.</p>
<p>Flags: Read</p>
</div>
<hr>
<div class="refsect2">
<a name="RBSongInfo--entry-view"></a><h3>The <code class="literal">“entry-view”</code> property</h3>
<pre class="programlisting">  “entry-view”               <a class="link" href="RBEntryView.html" title="RBEntryView"><span class="type">RBEntryView</span></a> *</pre>
<p>The <a class="link" href="RBEntryView.html" title="RBEntryView"><span class="type">RBEntryView</span></a> for the source that created the song properties window.  Used
find the set of selected entries, and to change the selection when the 'back' and
'forward' buttons are pressed.</p>
<p>Flags: Read / Write / Construct Only</p>
</div>
<hr>
<div class="refsect2">
<a name="RBSongInfo--selected-entries"></a><h3>The <code class="literal">“selected-entries”</code> property</h3>
<pre class="programlisting">  “selected-entries”         <a href="https://developer.gnome.org/glib/unstable/glib-Arrays.html#GArray"><span class="type">GArray</span></a> *</pre>
<p>The set of <span class="type">RhythmDBEntry</span> objects currently being displayed.  Valid for both
single-entry and multiple-entry song properties windows.</p>
<p>Flags: Read</p>
</div>
<hr>
<div class="refsect2">
<a name="RBSongInfo--source"></a><h3>The <code class="literal">“source”</code> property</h3>
<pre class="programlisting">  “source”                   <a class="link" href="RBSource.html" title="RBSource"><span class="type">RBSource</span></a> *</pre>
<p>The <a class="link" href="RBSource.html" title="RBSource"><span class="type">RBSource</span></a> that created the song properties window.  Used to update
for track list changes, and to find the sets of albums, artist, and genres
to use for tag edit completion.</p>
<p>Flags: Read / Write / Construct Only</p>
</div>
</div>
<div class="refsect1">
<a name="RBSongInfo.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="RBSongInfo-post-metadata-change"></a><h3>The <code class="literal">“post-metadata-change”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a>    *song_info,
               <span class="type">RhythmDBEntry</span> *entry,
               <a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>       user_data)</pre>
<p>Emitted just after changes have been applied to the database.
Probably useless.</p>
<div class="refsect3">
<a name="id-1.8.13.13.2.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>song_info</p></td>
<td class="parameter_description"><p>the <a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>entry</p></td>
<td class="parameter_description"><p>the <span class="type">RhythmDBEntry</span> that was changed</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer.gnome.org/gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
<hr>
<div class="refsect2">
<a name="RBSongInfo-pre-metadata-change"></a><h3>The <code class="literal">“pre-metadata-change”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a>    *song_info,
               <span class="type">RhythmDBEntry</span> *entry,
               <a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>       user_data)</pre>
<p>Emitted just before the changes made in the song properties window
are applied to the database.  This is only emitted in the single-entry
case.</p>
<div class="refsect3">
<a name="id-1.8.13.13.3.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>song_info</p></td>
<td class="parameter_description"><p>the <a class="link" href="RBSongInfo.html" title="RBSongInfo"><span class="type">RBSongInfo</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>entry</p></td>
<td class="parameter_description"><p>the <span class="type">RhythmDBEntry</span> being changed</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer.gnome.org/gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.24</div>
</body>
</html>